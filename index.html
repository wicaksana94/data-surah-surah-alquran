<!DOCTYPE html>
<html>
	<head>
		<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
		<meta name='author' content='Arya Wicaksana'>
		<meta name='designer' content='Arya Wicaksana'>
		<meta name='language' content='ID'>
		<meta name='description' content='Aplikasi online surah-surah dalam Al-Quran'>
		<title>Surah Al-Quran</title>
	</head>
	<body>
		<div id="app">
			<v-app>
				<v-main>
					<v-container>
						<h1 class="text-center">Surah-surah dalam Al-Quran</h1>
						<template>
							<div>
								<v-data-table
									:headers="headers"
									:items="allsurah"
									item-key="name"
									class="elevation-1"
									:search="search"
									loading="true"
									loading-text="Memuat data..."
									>
									<template v-slot:top>
										<v-text-field
											v-model="search"
											label="Search"
											class="mx-4"
											></v-text-field>
									</template>
								</v-data-table>
							</div>
						</template>
					</v-container>
				</v-main>
			</v-app>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
		<script>
			new Vue({
			  el: '#app',
			  vuetify: new Vuetify(),
			data () {
			  return {				  
				boilerplate: true,
				search: '',
			    allsurah: []
			  }
			},
			mounted () {
			fetch('https://api.alquran.cloud/v1/surah')
			.then(response => response.json())
			.then(res => {
			res.data.map(function(surah) {
				surah.revelationType = surah.revelationType.replace("Meccan", "Mekah");    
				surah.revelationType = surah.revelationType.replace("Medinan", "Madinah");    
			})
			this.allsurah = res.data				
			})
			},
			computed: {
			  headers () {
			    return [
			      {
			        text: 'Nama',
			        align: 'start',
			        sortable: false,
			        value: 'englishName',
			      },
			      {
			        text: 'Jumlah Ayat',
			        value: 'numberOfAyahs',
			      },
			      { text: 'Turun di Kota', value: 'revelationType' }
			    ]
			  },
			}
			})
		</script>
	</body>
</html>